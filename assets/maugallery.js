window.jQuery.fn.mauGallery=function(t){t=Object.assign({},{columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},t);var e=[];this.each((function(){var a,n,i;!function(t){if(!t.querySelector(".row")){var e=document.createElement("div");e.classList.add("gallery-items-row","row"),t.appendChild(e)}}(this),t.lightBox&&(a=this,n=t.lightboxId,i=t.navigation,a.insertAdjacentHTML("beforeend",`<div class="modal fade" id="${n||"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-body">\n                            ${i?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;">&lt;</div>':'<span style="display:none;" />'}\n                            <img class="lightboxImage img-fluid" alt="Contenu de l'image affichÃ©e dans la modale au clique"/>\n                            ${i?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">&gt;</div>':'<span style="display:none;" />'}\n                        </div>\n                    </div>\n                </div>\n            </div>`)),function(t){document.querySelectorAll(".gallery-item").forEach((function(e){e.addEventListener("click",(function(){t.lightBox&&"IMG"===this.tagName&&function(t,e){document.getElementById(e).querySelector(".lightboxImage").setAttribute("src",t.getAttribute("src")),document.getElementById(e).classList.add("show")}(this,t.lightboxId)}))})),document.querySelector(".gallery").addEventListener("click",(function(t){var e=t.target;e.classList.contains("nav-link")?function(t){if(!t.classList.contains("active-tag")){document.querySelector(".active-tag").classList.remove("active","active-tag"),t.classList.add("active","active-tag");var e=t.dataset.imagesToggle;document.querySelectorAll(".gallery-item").forEach((function(t){t.parentNode.style.display="none","all"!==e&&t.dataset.galleryTag!==e||(t.parentNode.style.display="block")}))}}(e):e.classList.contains("mg-prev")?function(){var t=document.querySelector(".lightboxImage"),e=document.querySelector(".tags-bar span.active-tag").dataset.imagesToggle,a=[];"all"===e?document.querySelectorAll(".item-column img").forEach((function(t){a.push(t)})):document.querySelectorAll(".item-column img").forEach((function(t){t.dataset.galleryTag===e&&a.push(t)}));var n=(Array.from(a).findIndex((function(e){return e.getAttribute("src")===t.getAttribute("src")}))-1+a.length)%a.length,i=a[n];t.setAttribute("src",i.getAttribute("src"))}():e.classList.contains("mg-next")&&function(){var t=document.querySelector(".lightboxImage"),e=document.querySelector(".tags-bar span.active-tag").dataset.imagesToggle,a=[];"all"===e?document.querySelectorAll(".item-column img").forEach((function(t){a.push(t)})):document.querySelectorAll(".item-column img").forEach((function(t){t.dataset.galleryTag===e&&a.push(t)}));var n=(Array.from(a).findIndex((function(e){return e.getAttribute("src")===t.getAttribute("src")}))+1)%a.length,i=a[n];t.setAttribute("src",i.getAttribute("src"))}()}))}(t),this.querySelectorAll(".gallery-item").forEach((function(a){var n;"IMG"===(n=a).tagName&&n.classList.add("img-fluid"),function(t){document.querySelector(".gallery-items-row").appendChild(t)}(a),function(t,e){if("number"==typeof e){var a="item-column mb-4 col-"+Math.ceil(12/e),n=document.createElement("div");n.classList.add(a),t.parentNode.insertBefore(n,t),n.appendChild(t)}else"object"==typeof e||console.error("Columns should be defined as numbers or objects.")}(a,t.columns);var i=a.dataset.galleryTag;t.showTags&&void 0!==i&&-1===e.indexOf(i)&&e.push(i)})),t.showTags&&function(t,e,a){var n='<li class="nav-item"><span class="nav-link active active-tag"  data-images-toggle="all">Tous</span></li>';a.forEach((function(t){n+=`<li class="nav-item active">\n                <span class="nav-link"  data-images-toggle="${t}">${t}</span></li>`}));var i=`<ul class="my-4 tags-bar nav nav-pills">${n}</ul>`;"bottom"===e?t.insertAdjacentHTML("beforeend",i):"top"===e?t.insertAdjacentHTML("afterbegin",i):console.error(`Unknown tags position: ${e}`)}(this,t.tagsPosition,e),this.style.display="block"}))};